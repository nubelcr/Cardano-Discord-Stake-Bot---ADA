[null,{"name":"setpoolid","permissions":"NONE","restriction":"1","_id":"wZlAb","actions":[{"message":"0","varName":"","info":"0","ParamN":"1","separator":"","storage":"2","varName2":"PoolID","name":"Store Message Params"}]},{"name":"setpoolname","permissions":"NONE","restriction":"1","_id":"VwKxz","actions":[{"message":"0","varName":"","info":"0","ParamN":"1","separator":"","storage":"2","varName2":"PoolName","name":"Store Message Params"}]},{"name":"epoch","permissions":"NONE","restriction":"1","_id":"HsXUa","actions":[{"token":"","user":"","pass":"","url":"https://pooltool.s3-us-west-2.amazonaws.com/8e4d2a3/pools/${serverVars(\"PoolID\")}/epochstats.json","path":"","storage":"1","varName":"data","debugMode":"1","headers":"","name":"Store Json From WebAPI"},{"message":"0","varName":"","info":"3","storage":"2","varName2":"CommandAuthor","name":"Store Message Info"},{"member":"1","varName":"","info":"2","storage":"1","varName2":"username","name":"Store Member Info"},{"message":"0","varName":"","info":"0","ParamN":"1","separator":"","storage":"2","varName2":"EpochNumber","name":"Store Message Params"},{"storage":"2","varName":"EpochNumber","comparison":"14","value":"2","iftrue":"2","iftrueVal":"12","iffalse":"0","iffalseVal":"","name":"Check Variable"},{"title":"Last 6 Epochs Summary","author":"","color":"ORANGE","url":"","authorIcon":"","authorUrl":"","imageUrl":"","thumbUrl":"","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"embed","name":"Create Embed Message"},{"behavior":"0","interpretation":"1","code":"let json = tempVars('data');\nlet embed = tempVars('embed');\n\n\nObject.keys(json).slice(-7).forEach(function(epoch) {\nlet y = json[epoch].stake\nlet c = .000001\nlet x = Math.floor(y * c)\nlet a = json[epoch].blocks\nlet b = a\nlet e = json[epoch].blockstake\nlet d = Math.floor(e * c)\nlet f = json[epoch].value_taxed\nlet g = Math.floor(f * c)\nlet h = json[epoch].value_for_stakers\nlet i = Math.floor(h * c)\nembed.addField(\"Epoch: \"+epoch, \"Stake: \" + `${x.toLocaleString('en')}\\n Block:  ${b.toLocaleString('en')}\\n Blockstake: ${d.toLocaleString('en')}\\n Value For Stakers:  ${i.toLocaleString('en')}\\n Value Taxed:  ${g.toLocaleString('en')} `, true)\n})","storage":"0","varName":"","name":"Run Script"},{"storage":"1","varName":"embed","message":"Last updated: ${tempVars(\"data\").updatedAt}","footerIcon":"","name":"Set Embed Footer"},{"storage":"1","varName":"embed","channel":"0","varName2":"","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"},{"tosend":"command author inserted an empty epoch command, basically the equivalent (!epoch) ","name":"Send Message to Console"},{"name":"End Action Sequence"},{"title":"Details for Epoch: ${serverVars(\"EpochNumber\")} in Î” ADA","author":" ${tempVars(\"username\")} summoned some stats from SOBIT","color":"WHITE","url":"","authorIcon":"","authorUrl":"https://www.cardano.org/","imageUrl":"","thumbUrl":"https://www.cardano.org/wp-content/uploads/2017/07/cardano-symbol-150x150.png","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"embed","name":"Create Embed Message"},{"storage":"1","varName":"embed","message":"Exact figures are rounded for visual appearance. ","footerIcon":"https://www.cardano.org/wp-content/uploads/2017/06/snake-150x150.png","name":"Set Embed Footer"},{"behavior":"0","interpretation":"1","code":"let json = tempVars('data');\nlet embed = tempVars('embed');\nlet y = json[serverVars(\"EpochNumber\")].blockstake\nlet c = .000001\nlet x = Math.round(y * c)\nlet a = json[serverVars(\"EpochNumber\")].value_for_stakers\nlet b = Math.round(a * c)\nlet d = json[serverVars(\"EpochNumber\")].value_taxed\nlet e = Math.round(d * c)\nlet f = json[serverVars(\"EpochNumber\")].stake\nlet g = Math.round(f * c)\nlet h = 365.5\nlet i = h * a / y * 100\n\nembed.addField(\"Epoch: \", json[serverVars(\"EpochNumber\")].epoch, true)\nembed.addField(\"Blocks: \", json[serverVars(\"EpochNumber\")].blocks, true)\nembed.addField(\"Epoch stake: \", x.toLocaleString('en'), true)\nembed.addField(\"Live Stake: \", g.toLocaleString('en'), true)\nembed.addField(\"Staker Rewards: \", b.toLocaleString('en'), true)\nembed.addField(\"Rewards Tax:\", e.toLocaleString('en'), true)\nembed.addField(\"ROI %:\", i.toLocaleString('en'), true)","storage":"0","varName":"","name":"Run Script"},{"time":"1","measurement":"1","name":"Wait"},{"storage":"1","varName":"embed","channel":"0","varName2":"","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"},{"changeType":"0","value":"0","storage":"2","varName":"EpochNumber","name":"Control Variable"}]}]